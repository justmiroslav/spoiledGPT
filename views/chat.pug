doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css")
        link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.css")
        link(rel="stylesheet", href="/css/chatStyles.css")
        title SpoiledGPT
    body
        header
            #ai-icon
                a(href="/")
                    img(src="/img/mainIcon.jpg", alt="")
                    p SpoiledGPT
            #summarized-title
                i.fas.fa-chevron-down
                p= title
            #model
                select(id="model-selector")
                    option(value="libra" selected) libra
                    option(value="sparky") sparky
                p(id="model-description")
        main
            #chat-content
                each message in messages
                    div(id=message._id, class="message-div")
                        p(class=message.sender)!= message.message.replace(/\n/g, '<br>')
                        if message.sender === 'user'
                            div
                                i.fas.fa-pencil-alt(id=message._id)
                                i.fas.fa-trash-alt(id=message._id)
                        else if message.sender === 'assistant'
                            div
                                i.fas.fa-copy(id=message._id)
                                i.fas.fa-redo(id=message._id)
            #message-send
                input(type="text", id="user-input", autocomplete="off", name="message", placeholder="Send message...")
                button(id="submit-button")
                    i.fas.fa-arrow-up
        script.
            let messageDivs = document.querySelectorAll('.message-div');
            messageDivs.forEach(div => {
                let userMessage = div.querySelector('.user');
                if (userMessage) {
                    div.style.textAlign = 'right';
                }
            });
        script(type="module", src="/js/chatScripts.js")
