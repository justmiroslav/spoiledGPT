doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css")
        link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.css")
        link(rel="stylesheet", href="/css/mainStyles.css")
        title SpoiledGPT
    body
        #user-initial
            p= username[0].toUpperCase()
        main
            #ai-icon
                img(src="/img/mainIcon.jpg", alt="")
                p SpoiledGPT
            h1 Welcome, #{username}
            #new-chat
                input(type="text", id="main-user-input", autocomplete="off", name="message", placeholder="Start new chat...")
                button(id="main-start-button")
                    i.fas.fa-arrow-up
            #existing-chats
                #chats-title
                    if Object.values(chats).flat().length > 0
                        h2 All conversations
                        if Object.values(chats).flat().length >= 2
                            button(id="delete-all")
                                i.fas.fa-trash
                each group, groupName in chats
                    if group.length > 0
                        .chat-group
                            .chat-title= groupName
                            each chat in group
                                a(href=`/${chat._id}`, class="chat-button") #{chat.title}
        script(type="module", src="/js/mainScripts.js")
